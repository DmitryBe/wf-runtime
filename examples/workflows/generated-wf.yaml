id: parallel_multiply_and_sum
version: 1
input:
  schema:
    type: object
    properties:
      x:
        type: number
    required:
    - x
nodes:
- id: mul2
  kind: python_code
  code: return input["x"] * 2
  input_mapping:
    x: $input.x
  output_mapping: {}
- id: mul3
  kind: python_code
  code: return input["x"] * 3
  input_mapping:
    x: $input.x
  output_mapping: {}
- id: add
  kind: python_code
  code: 'return {"val": input["a"] + input["b"]}'
  input_mapping:
    a: $nodes.mul2
    b: $nodes.mul3
  output_mapping:
    val: $.val
edges:
- from: start
  to: mul2
- from: start
  to: mul3
- from: mul2
  to: add
- from: mul3
  to: add
- from: add
  to: end
output:
  input_mapping:
    val: $nodes.add.val
  schema:
    type: object
    properties:
      val:
        type: number
    required:
    - val
